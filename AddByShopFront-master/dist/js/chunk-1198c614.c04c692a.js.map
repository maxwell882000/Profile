{"version":3,"sources":["webpack:///./src/components/helper/dropdown/dropdownChoose.vue","webpack:///./src/components/helper/dropdown/dropdownChoose.vue?d6c4","webpack:///./src/constants/helper/dropDown/sexItems.js","webpack:///./src/views/verification/firstStep.vue","webpack:///./src/views/verification/firstStep.vue?c878","webpack:///./src/views/verification/firstStep.vue?eb19"],"names":["statusDropDown","getModelValueLabel","props","modelValue","items","filter","e","key","label","chosenText","selectItem","item","emit","value","__exports__","t","i18n","global","isDept","nextPage","store","userData","getters","errorData","validate","dispatch","type","verificationConstant","sex","sexItems","route","router","user","goToBasketIfOkay","name","isUser","replace","isSurety","path","split","console","log","slice","correctPath","length","join","goNextPage","validation","PHONE","DEPT_SUM","Object","entries","immediate"],"mappings":"2oBAsDMA,EAAiB,iBAAI,IAE3B,SAASC,IACP,OAAIC,EAAMC,WACDD,EAAME,MAAMC,QAAO,SAAAC,GAAC,OAAIA,EAAEC,MAAQL,EAAMC,cAAY,GAAGK,MAEzD,GAGT,IAAMC,EAAa,iBAAIR,KAOvB,SAASS,EAAWC,GAClBC,EAAK,oBAAqBD,EAAKJ,KAC/BE,EAAWI,MAAQF,EAAKH,MACxBR,EAAea,MAAQ,G,OATzB,oBAAM,kBAAMX,EAAMC,cAAY,WAC5BM,EAAWI,MAAQZ,O,uyCC9DrB,MAAMa,EAAc,EAEL,Q,YCHTC,EAAIC,OAAKC,OAAOF,EACP,GACX,CACIR,IAAK,EACLC,MAAOO,EAAE,YAEb,CACIR,IAAK,EACLC,MAAOO,EAAE,a,8JC2FjB,IAAMG,EAAS,kBAAI,GACbC,EAAW,iBAAI,GACfC,EAAQ,iBACRC,EAAW,uBAAS,kBAAMD,EAAME,QAAQ,kCACxCC,EAAY,uBAAS,kBAAMH,EAAME,QAAQ,mCACzCE,EAAW,kBAAMJ,EAAMK,SAAS,kCAChCC,EAAOC,EAAA,KACPC,EAAMC,EACNC,EAAQ,iBACRC,EAAS,iBACTC,EAAO,uBAAS,kBAAMZ,EAAME,QAAQ,WACpCP,EAAI,iBAAUA,EAEpB,SAASkB,IACiB,KAApBD,EAAKnB,MAAMqB,MAAeC,KAC5BJ,EAAOK,QAAQ,CACbF,KAAM,WASZ,SAASC,IACP,OAAQE,IAGV,SAASA,IACP,IAAMC,EAAOR,EAAMQ,KAAKC,MAAM,KAE9B,OADAC,QAAQC,IAAIH,EAAKI,OAAO,GAAG,IACE,WAAtBJ,EAAKI,OAAO,GAAG,GAGxB,SAASC,IACP,IAAML,EAAOR,EAAMQ,KAAKC,MAAM,KAE9B,OADAC,QAAQC,IAAIH,GACLA,EAAKI,MAAM,EAAGJ,EAAKM,OAAS,GAAGC,KAAK,KAG7C,SAASC,IACPtB,IACIa,KACF,OAAAU,EAAA,MAAW1B,EAAUE,EAAWG,EAAKsB,MAAOjC,EAAE,mBAE5CG,EAAOL,OACT,OAAAkC,EAAA,MAAW1B,EAASR,MAAOU,EAAUV,MAAOa,EAAKuB,SAAUlC,EAAE,6CAE1DmC,OAAOC,QAAQ5B,EAAUV,OAAO+B,SACnCzB,EAASN,MAAQ,G,OA7BrB,oBAAM,kBAAMmB,KAAM,WAChBC,MACC,CAACmB,WAAW,I,28NCtHf,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB,kCCRf,W","file":"js/chunk-1198c614.c04c692a.js","sourcesContent":["<template>\n  <Dropdown v-model=\"statusDropDown\" :label=\"label\" class=\"pointer text-gray\"\n            :style-drop-down=\"styleDropDown || {width: '100%'}\">\n    <template #button>\n      <div\n          :style=\"{'border-color': error && 'var(--red)'}\"\n          class=\"border-only rounded-st bg-white p-2 d-flex justify-content-between align-items-center\">\n              <span :class=\"chosenText && 'text-dark text-500'\">\n                {{ chosenText || placeholder }}\n              </span>\n        <span class=\"pt-1 bi bi-chevron-down\"></span>\n      </div>\n      <error :error=\"error\"></error>\n    </template>\n    <template #items>\n      <button :key=\"'chosen_element_' + placeholder + '__' + item.key\"\n              v-for=\"item in items\"\n              @click=\"selectItem(item)\"\n              class=\"button-clear text-start w-100 text-dark\">\n                <span>\n                {{ item.label }}\n                </span>\n      </button>\n    </template>\n  </Dropdown>\n</template>\n<script setup>\nimport Dropdown from \"@/components/helper/dropdown/dropdown\";\nimport {ref, watch} from \"vue\";\nimport Error from \"@/components/helper/error/error\";\n// eslint-disable-next-line no-undef,no-unused-vars\nconst emit = defineEmits(['update:modelValue']);\n// eslint-disable-next-line no-unused-vars,no-undef\nconst props = defineProps({\n  label: String,\n  placeholder: String,\n  styleDropDown: {\n    type: Object,\n  },\n  error: String,\n  modelValue: {},\n  items: {\n    type: Array,\n    default() {\n      return [\n        {\n          key: \"\",\n          label: \"\"\n        }\n      ]\n    }\n  }\n});\n\nconst statusDropDown = ref(\"\");\n\nfunction getModelValueLabel() {\n  if (props.modelValue) {\n    return props.items.filter(e => e.key === props.modelValue)[0].label;\n  }\n  return \"\"\n}\n\nconst chosenText = ref(getModelValueLabel());\nwatch(() => props.modelValue, () => {\n  chosenText.value = getModelValueLabel();\n})\n\n// eslint-disable-next-line no-unused-vars\n\nfunction selectItem(item) {\n  emit('update:modelValue', item.key);\n  chosenText.value = item.label;\n  statusDropDown.value = \"\";\n}\n</script>","import script from \"./dropdownChoose.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./dropdownChoose.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import i18n from '@/i18n'\n\nconst t = i18n.global.t;\nexport default [\n    {\n        key: 1,\n        label: t('Мужской')\n    },\n    {\n        key: 2,\n        label: t('Женский')\n    }\n]","<template>\n  <loader waiting=\"user\">\n    <section class=\"bg-white p-3 rounded-st mb-3\">\n      <h6>{{ $t(\"Общая информация\") }}</h6>\n      <b-row>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation required :error=\"errorData[type.FIRST_NAME]\"\n                           v-model=\"userData[type.FIRST_NAME]\"\n                           :placeholder=\"$t('Имя*')\"/>\n        </b-col>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation :error=\"errorData[type.PNFL]\"\n                           v-model=\"userData[type.PNFL]\"\n                           :placeholder=\"$t('ПИНФЛ')\"/>\n        </b-col>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation :error=\"errorData[type.LAST_NAME]\"\n                           v-model=\"userData[type.LAST_NAME]\"\n                           :placeholder=\"$t('Фамилия*')\"/>\n        </b-col>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation :error=\"errorData[type.FATHER_NAME]\"\n                           v-model=\"userData[type.FATHER_NAME]\"\n                           :placeholder=\"$t('Отчество*')\"/>\n        </b-col>\n        <b-col v-show=\"isSurety()\" cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation :error=\"errorData[type.PHONE]\"\n                           v-model=\"userData[type.PHONE]\"\n                           :placeholder=\"$t('Номер телефона*')\"/>\n        </b-col>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation :error=\"errorData[type.ADDITIONAL_PHONE]\"\n                           v-model=\"userData[type.ADDITIONAL_PHONE]\"\n                           :placeholder=\"$t('Доп. номер телефона*')\"/>\n        </b-col>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation :error=\"errorData[type.SERIES]\"\n                           v-model=\"userData[type.SERIES]\"\n                           :placeholder=\"$t('Серия паспорта*')\"/>\n        </b-col>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation type=\"date\" :error=\"errorData[type.DATE_OF_BIRTH]\"\n                           v-model=\"userData[type.DATE_OF_BIRTH]\"\n                           :placeholder=\"$t('Дата рождения*')\"/>\n        </b-col>\n        <b-col cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <dropdown-choose\n              class=\"input-validation\"\n              :label=\"$t('Выберите пол')\"\n              :placeholder=\"$t('Пол*')\"\n              :error=\"errorData[type.SEX]\"\n              v-model=\"userData[type.SEX]\"\n              :items=\"sex\"\n          ></dropdown-choose>\n        </b-col>\n      </b-row>\n    </section>\n    <section v-show=\"!isSurety()\" class=\"bg-white p-3 rounded-st\">\n      <h6>{{ $t(\"У вас есть рассрочка в других местах в данный момент?\") }}</h6>\n      <div class=\"d-flex w-30\">\n        <ButtonForm\n            @click=\"isDept = true\"\n            class=\"mr-2\"\n            :is-entered=\"isDept || userData[type.DEPT_SUM]\"\n            :title-style=\"{ style: 'var(--dark)' }\"\n            :title=\"$t('Да')\"\n        ></ButtonForm>\n        <ButtonForm\n            @click=\"isDept = false\"\n            :is-entered=\"!(isDept || userData[type.DEPT_SUM] )\"\n            :title-style=\"{ style: 'var(--dark)' }\"\n            :title=\"$t('Нет')\"\n        ></ButtonForm>\n      </div>\n      <b-row>\n        <b-col v-show=\"isDept || userData[type.DEPT_SUM]\" cols=\"12\" class=\"col-xl-6 col-lg-6 col-md-12\">\n          <InputValidation :error=\"errorData[type.DEPT_SUM]\" v-model=\"userData[type.DEPT_SUM]\"\n                           :placeholder=\"$t('Сумма рассрочки')\"/>\n        </b-col>\n        <b-col></b-col>\n      </b-row>\n    </section>\n    <router-link :to=\"correctPath() +'/' + nextPage\" replace>\n      <ButtonBlue @click=\"goNextPage\" class=\"w-20 mb-3 py-2\" :title=\"$t('Далее')\"></ButtonBlue>\n    </router-link>\n  </loader>\n</template>\n<script setup>\nimport ButtonForm from \"@/components/helper/button/buttonForm\";\nimport ButtonBlue from \"@/components/helper/button/buttonBlue\";\nimport {computed, ref, watch} from \"vue\";\nimport {useStore} from \"vuex\";\nimport verificationConstant from \"@/constants/verification/verificationConstant\";\nimport InputValidation from \"@/components/helper/input/inputValidation\";\nimport validation from \"@/mixins/validation\";\nimport DropdownChoose from \"@/components/helper/dropdown/dropdownChoose\";\nimport sexItems from \"@/constants/helper/dropDown/sexItems\";\nimport {useRoute, useRouter} from \"vue-router\";\nimport Loader from \"@/components/loading/loader\";\nimport {useI18n} from \"vue-i18n\";\n\nconst isDept = ref(false);\nconst nextPage = ref(1);\nconst store = useStore();\nconst userData = computed(() => store.getters['verificationModule/userData']);\nconst errorData = computed(() => store.getters['verificationModule/errorData']);\nconst validate = () => store.dispatch('verificationModule/validation');\nconst type = verificationConstant;\nconst sex = sexItems;\nconst route = useRoute();\nconst router = useRouter();\nconst user = computed(() => store.getters['user'])\nconst t = useI18n().t;\n\nfunction goToBasketIfOkay() {\n  if (user.value.name === \"\" && isUser()) {\n    router.replace({\n      name: 'basket'\n    })\n  }\n}\n\nwatch(() => user, function () {\n  goToBasketIfOkay();\n}, {immediate: true})\n\nfunction isUser() {\n  return !isSurety();\n}\n\nfunction isSurety() {\n  const path = route.path.split(\"/\");\n  console.log(path.slice(-2)[0]);\n  return path.slice(-2)[0] === \"surety\";\n}\n\nfunction correctPath() {\n  const path = route.path.split(\"/\");\n  console.log(path);\n  return path.slice(0, path.length - 1).join(\"/\");\n}\n\nfunction goNextPage() {\n  validate();\n  if (isSurety()) {\n    validation(userData, errorData, type.PHONE, t(\"Номер телефона\"));\n  }\n  if (isDept.value) {\n    validation(userData.value, errorData.value, type.DEPT_SUM, t(\"Если вы выбрали 'ДА', то cумма рассрочки\"));\n  }\n  if (!Object.entries(errorData.value).length)\n    nextPage.value = 2;\n}\n\n</script>\n\n<style scoped>\n.input-validation {\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n}\n</style>","import script from \"./firstStep.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./firstStep.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./firstStep.vue?vue&type=style&index=0&id=40835844&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/m_axwel_l/Desktop/projects/Vue/buy-shop/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40835844\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./firstStep.vue?vue&type=style&index=0&id=40835844&scoped=true&lang=css\""],"sourceRoot":""}